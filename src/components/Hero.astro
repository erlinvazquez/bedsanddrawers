---
import { getLocaleFromUrl } from '../i18n/utils';
import { heroTranslations } from '../i18n/hero';

const { pathname } = Astro.url;
const currentLocale = getLocaleFromUrl(pathname);
const t = heroTranslations[currentLocale as keyof typeof heroTranslations];
---

<section class="relative bg-gray-900 h-[300px]" aria-label={t.ariaLabel}>
  <div class="absolute inset-0">
    <img
      src="https://images.unsplash.com/photo-1540518614846-7eded433c457"
      alt={t.imageAlt}
      class="w-full h-full object-cover opacity-50"
      loading="eager"
      fetchpriority="high"
    />
  </div>
  <div class="relative max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8 flex flex-col justify-center h-full">
    <div class="absolute top-4 right-4 flex items-center space-x-4">
      <span class="bg-white/90 text-gray-900 px-3 py-1 rounded-full text-sm font-medium">
        {t.bestDeals}
      </span>
      <span class="bg-white/90 text-gray-900 px-3 py-1 rounded-full text-sm font-medium">
        {t.priceComparison}
      </span>
    </div>

    <div class="flex flex-col space-y-4">
      <h1 class="text-3xl md:text-4xl lg:text-5xl font-extrabold tracking-tight text-white">
        {t.title}
      </h1>
      
      <h2 class="text-lg md:text-xl text-gray-300 max-w-2xl">
        {t.description}
      </h2>

      <div class="flex flex-col sm:flex-row gap-4 mt-2">
        <a
          href={`/${currentLocale}/beds`}
          class="inline-flex items-center justify-center px-6 py-2 border border-transparent text-base font-medium rounded-md text-white bg-purple-600 hover:bg-purple-700 transition duration-150 ease-in-out"
        >
          {t.compareBeds}
        </a>
        
        <div class="flex items-center space-x-2 text-gray-300 text-sm">
          <span>✓ {t.updatedPrices}</span>
          <span>|</span>
          <span>✓ {t.honestReviews}</span>
        </div>
      </div>

      <a 
        href="#featured-collection" 
        class="text-gray-300 hover:text-white text-sm mt-2 underline underline-offset-2"
      >
        {t.exploreCollection}
      </a>
    </div>
  </div>
</section>

<style>
  section {
    background-image: linear-gradient(to bottom, rgba(17, 24, 39, 0.8), rgba(17, 24, 39, 0.7));
  }
</style>
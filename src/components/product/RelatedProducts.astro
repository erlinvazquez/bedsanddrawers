---
import ProductCard from '../ProductCard.astro';
import type { Product } from '../../types/product';

interface Props {
  products: Product[];
  currentProductId: string;
}

const { products, currentProductId } = Astro.props;

const relatedProducts = products
  .filter(product => product.id !== currentProductId)
  .slice(0, 3);
---

<section class="mt-16">
  <h2 class="text-2xl font-bold text-gray-900 mb-8">Related Products</h2>
  <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
    {relatedProducts.map(product => (
      <ProductCard {...product} />
    ))}
  </div>
</section>
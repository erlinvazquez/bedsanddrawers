---
import { getLocaleFromUrl } from '../i18n/utils';
import { heroTranslations } from '../i18n/hero';
import HeroTitle from './hero/HeroTitle.astro';
import HeroActions from './hero/HeroActions.astro';

const { pathname } = Astro.url;
const currentLocale = getLocaleFromUrl(pathname);
const t = heroTranslations[currentLocale as keyof typeof heroTranslations];
---

<section class="relative bg-gray-900 h-[300px]" aria-label={t.ariaLabel}>
  <div class="absolute inset-0">
    <img
      src="https://images.unsplash.com/photo-1540518614846-7eded433c457"
      alt={t.imageAlt}
      class="w-full h-full object-cover opacity-50"
      loading="eager"
      fetchpriority="high"
    />
  </div>
  
  <div class="relative max-w-7xl mx-auto py-12 px-4 sm:px-6 lg:px-8 flex flex-col justify-center h-full">
    <div class="flex flex-col space-y-6">
      <HeroTitle 
        title={t.title}
        description={t.description}
      />
      
      <HeroActions
        currentLocale={currentLocale}
        exploreText={t.exploreCollection}
      />
    </div>
  </div>
</section>

<style>
  section {
    background-image: linear-gradient(to bottom, rgba(17, 24, 39, 0.8), rgba(17, 24, 39, 0.7));
  }
</style>